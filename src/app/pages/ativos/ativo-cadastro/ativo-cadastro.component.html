<form #f="ngForm" autocomplete="off" (ngSubmit)="salvar(f)">
  <div class="ui-g">
    <div class="ui-g-12 ui-md-12 ui-fluid">
      <p-fieldset legend="Opções" [toggleable]="true">
        <div class="ui-toolbar-group-left">
          <button type="button" class="btn-cadastrar-ativo" (click)="showModalDialog()" pButton icon="pi pi-save"
            label="Cadastrar Ativo">
          </button>
        </div>

        <div class="ui-toolbar-group-left btn-atualizar-ativos">
          <button pButton type="button" label="Atualizar ativos" (click)="atualizarInfoAtivos()" class="ui-button-success"
            icon="pi pi-refresh"></button>
        </div>

        <div class="ui-toolbar-group-left btn-exibir-graficos">
          <button pButton type="button" label="Exibir Gráficos" (click)="loadGraficos()" class="ui-button-warning" icon="pi pi-chart-bar"></button>
        </div>

        <div class="ui-toolbar-group-right btn-pesquisar">
          <button pButton type="button" icon="pi pi-search"></button>
        </div>
          <div class="ui-toolbar-group-right div-pesquisar">
            <input type="text" pInputText class="input-pesquisar" />
          </div>

      </p-fieldset>
      <p-dialog header="Cadastro de Ativos" [(visible)]="displayModal" [modal]="true" [style]="{width: '50vw'}">
        <div class="ui-g-12 ui-md-4 ui-fluid">
          <label>Nome do Ativo</label>
          <input pInputText type="text" [(ngModel)]="ativo.nome" name="nome" required>
        </div>

        <div class="ui-g-12 ui-md-4 ui-fluid">
          <label>Código do Ativo</label>
          <input pInputText type="text" [(ngModel)]="ativo.codigo" name="codigo" required>
        </div>

        <div class="ui-g-12 ui-md-4 ui-fluid">
          <label>Categoria</label>
          <p-dropdown [options]="categorias" placeholder="Selecione uma Categoria" [(ngModel)]="ativo.categoriaAtivo.id"
            name="categoriaAtivo" required></p-dropdown>
        </div>

        <div class="ui-g-12 ui-md-12 ui-fluid">
          <label>Descrição</label>
          <span class="ui-float-label">
            <textarea cols="30" pinputtextarea rows="5" class="ui-inputtext ui-corner-all ui-state-default ui-widget"
              [(ngModel)]="ativo.descricao" name="descricao">
              </textarea>

          </span>
        </div>

        <p-footer>
          <button (click)="cancelar($event)" icon="pi pi-times" pButton type="submit" label="Cancelar"
            class="ui-button-secondary"></button>
          <button pButton type="submit" [disabled]="f.invalid" icon="pi pi-check" label="Cadastrar"></button>
        </p-footer>

      </p-dialog>

    </div>
  </div>
</form>

<app-ativos-grid #ativosGrid (editar)="editar($event)"></app-ativos-grid>

